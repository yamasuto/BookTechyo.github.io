# 読書の手帖（Windows Store App版）

![メイン](./images/resized/01_Records_N211_ImportBibliaCsvFiles.png)

目次

- [読書の手帖（Windows Store App版）](#読書の手帖windows-store-app版)
  - [1. 説明](#1-説明)
    - [1-1. 作成した理由](#1-1-作成した理由)
    - [1-2. 書誌・書影](#1-2-書誌書影)
  - [2. 使い方](#2-使い方)
    - [2-1. 読書の手帖を起動する](#2-1-読書の手帖を起動する)
    - [2-2. 使い始める前に](#2-2-使い始める前に)
    - [2-3. 本の記録を登録する](#2-3-本の記録を登録する)
    - [2-4. 読書の手帖を終了する](#2-4-読書の手帖を終了する)
  - [3. メニュー](#3-メニュー)
    - [3-1. 記録](#3-1-記録)
      - [3-1-1. 本の記録を登録する](#3-1-1-本の記録を登録する)
      - [3-1-1-1. バーコード読み取り](#3-1-1-1-バーコード読み取り)
        - [3-1-1-1-A. バーコード読み取りの補足](#3-1-1-1-a-バーコード読み取りの補足)
      - [3-1-1-2. 書籍のタイトルでインターネットを検索する](#3-1-1-2-書籍のタイトルでインターネットを検索する)
      - [3-1-1-3. 空の記録を追加する](#3-1-1-3-空の記録を追加する)
      - [3-1-2. 本の記録を記入・編集・削除する](#3-1-2-本の記録を記入編集削除する)
      - [3-1-2-1. 賞](#3-1-2-1-賞)
      - [3-1-3. 本の記録を検索する・並び替える](#3-1-3-本の記録を検索する並び替える)
        - [3-1-3-1. タイトル等を対象として検索する](#3-1-3-1-タイトル等を対象として検索する)
        - [3-1-3-2. フィルターと並び替え](#3-1-3-2-フィルターと並び替え)
    - [3-2. 設定](#3-2-設定)
      - [3-2-1. 書籍検索サービスを利用する・しない、および優先度の指定](#3-2-1-書籍検索サービスを利用するしないおよび優先度の指定)
      - [3-2-2. 各書籍検索サービスで取得する結果の上限個数](#3-2-2-各書籍検索サービスで取得する結果の上限個数)
      - [3-2-3. 書籍の画像を表示するかどうか](#3-2-3-書籍の画像を表示するかどうか)
      - [3-2-4. 書籍の画像背景色指定](#3-2-4-書籍の画像背景色指定)
      - [3-2-5. アプリ設定を開くボタン](#3-2-5-アプリ設定を開くボタン)
    - [3-3. バックアップと保存](#3-3-バックアップと保存)
      - [3-3-1. バックアップボタン](#3-3-1-バックアップボタン)
      - [3-3-2. 復元ボタン](#3-3-2-復元ボタン)
      - [3-3-3. すべて削除ボタン](#3-3-3-すべて削除ボタン)
      - [3-3-4. 他のサービス](#3-3-4-他のサービス)
        - [3-3-4-1. 読書管理ビブリア](#3-3-4-1-読書管理ビブリア)
    - [3-4. 読書の手帖について](#3-4-読書の手帖について)
  - [4. お問い合わせ](#4-お問い合わせ)

## 1. 説明

本の感想やメモを管理するアプリケーションです。

Windows 11[^0]のPCやAndroid[^2]のスマートフォンで動きます。

本のバーコードをカメラで読み取って登録できます。

[読書管理ビブリア](https://biblia978.com/)で作成した記録も読み込めます。

### 1-1. 作成した理由

iPhone SE[^1]で[読書管理ビブリア](https://biblia978.com/)を使っていましたが、Google Pixel[^2]にかえたため、広告がなく無料で使えるアプリが必要になりました。

読書管理ビブリアでエクスポートしたCsvファイルを既存のアンドロイドアプリに読み込ませれば済んだのですが、以下解消したり、機能を追加すべく実装することにしました。

- 広告が煩わしい
- 不具合が直らない
- [青空文庫](https://www.aozora.gr.jp/index.html)の本を登録したい

### 1-2. 書誌・書影

本アプリで提供するのメタデータの一部は、国立国会図書館サーチのAPIから取得した書誌データ（国立国会図書館が運営）に由来します。
ライセンスは[クリエイティブ・コモンズ 表示 4.0 国際 パブリック・ライセンス](https://creativecommons.org/licenses/by/4.0/legalcode.ja)です。

なお、**読書の手帖**は、書影画像（資料の表紙の画像）を取得しません（書影提供元に確認しましたが確認できなかったためです）。

## 2. 使い方

**読書の手帖**を起動したら、本を登録します。

使い終わったら、**読書の手帖**を終了します。

### 2-1. 読書の手帖を起動する

Windowsのスタートアップ等から、**読書の手帖（Book Techyo）** ![icon](../../../note.png)をクリックして起動します。

![スタートアップ](./images/resized/01.Start.png)

### 2-2. 使い始める前に

アプリインストール後の初回起動時に、書籍検索サービスの利用規約確認をお願いするメッセージを表示します。

![利用規約確認](./images/resized/01_Records_N010_Initial.png)

OKボタンをクリックしてメッセージを閉じ、[設定画面](#3-2-設定)にある書籍検索サービスのURLをクリックして利用規約を確認してください。同意できない場合は[チェック]を外して利用しないようにしてください。

### 2-3. 本の記録を登録する

個々に登録する、もしくはファイルを読み込んでまとめて登録します。

- 個々に登録する場合は、本のタイトルで検索、もしくはカメラで読み込んだISBNで検索して登録できます。
- ファイルを読み込んでまとめて登録する場合は、バックアップで作成したYaml形式のファイルか読書管理ビブリアでエクスポートしたCsvファイルを使います。

### 2-4. 読書の手帖を終了する

**読書の手帖**の右上側にある![Close](../../common/images/close_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックするか、タスクバーの**読書の手帖**を右クリックして表示したメニューから[ウィンドウを閉じる]をクリックします。

![Exit](./images/resized/18.Exit.png)

この時、**読書の手帖**は**反映していない変更を破棄します**ので注意してください。

## 3. メニュー

**読書の手帖**の左上にある![menu](../../common/images/menu_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックするとメニューを表示します。

![Shell](./images/resized/01_Records_N030_ShowFlyout.png)

### 3-1. 記録

本の記録を一覧表示します。

![メイン](./images/resized/01_Records_N211_ImportBibliaCsvFiles.png)

#### 3-1-1. 本の記録を登録する

**読書の手帖**の![+アイコン](../../common/images/add_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックします。

![Add](./images/resized/01_Records_N040_ShowEmptyBooksPage.png)

![+アイコン](../../common/images/add_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックすると、バーコード読み取り ![バーコード読み取り](../../common/images/barcode_scanner_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)、書籍のタイトルで検索 ![書籍のタイトルで検索](../../common/images/title_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)、空の記録を追加 ![空の記録を追加](../../common/images/draft_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)を表示します。

![Add Sub](./images/resized/01_Records_N050_BooksPageClickPlus.png)

#### 3-1-1-1. バーコード読み取り

バーコード読み取り ![バーコード読み取り](../../common/images/barcode_scanner_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックします。

**読書の手帖**は、バーコード読み取り画面を表示します。

![CameraRecognizing](./images/resized/01_Records_N060_BooksPageClickBarcordReader.png)

この時、カメラおよびマイクへのアクセスを許可するか確認する画面を表示することがあります。[はい]ボタンをクリックして許可してください。

![permission](./images/resized/13-02.CameraRecognizing_permission.png)

![permission](./images/resized/13-01.CameraRecognizing_permission.png)

書籍のバーコード（978で始まる数学が書いてある方）をカメラにかざし、読み取りが成功するまで位置を調整してください。

カメラ画像左下の数字は読み取りを行った回数を示します。

カメラ画像の下にあるスキャン間隔を増減すると読み取りを試みる単位時間当たりの回数を変更できます。
間隔を小さくしたほうが早く読み取りに成功する可能性が増えますが、負荷が増えます。

バーコードの読み取りに成功すると、**読書の手帖**は読み取ったISBNを使って検索を行い結果を表示します。

![Barcord Scaned ISBN Search](./images/resized/01_Records_N080_BookSearchPageSearchingByIsbn.png)

一覧で書籍を選択して **ダブルクリック**してください。

**読書の手帖**は、本の記録を入力する[詳細画面](#3-1-2-本の記録を記入編集削除する)に検索結果を反映します。

項目に入力して、![apply](../../common/images/check_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックすると、**読書の手帖**は一覧に登録します。

##### 3-1-1-1-A. バーコード読み取りの補足

- PCによっては**Windowsのカメラアプリの方が簡単にスムーズにバーコードを読み取れます**。

  ![Windows Camera App](./images/resized/13-99.WindowsCameraApp.png)

- **カメラが利用可能**であるときだけバーコード読み取りができます。PCにカメラがついてないとか、他のアプリケーションでカメラを使っているとか、そのような場合バーコード読み取りができません。

#### 3-1-1-2. 書籍のタイトルでインターネットを検索する

![書籍のタイトルで検索](../../common/images/title_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックします。

**読書の手帖**は、検索画面を表示します。

![Search](./images/resized/01_Records_N070_BookSearchPage.png)

テキストボックスに検索する書籍のタイトルを入力して![検索開始ボタン](../../common/images/search_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックすると、**読書の手帖**は検索を行い結果を一覧で表示します。

- テキストボックスに書籍のタイトルを入力するとタイトルをキーにして検索します。
- テキストボックスにISBNを入力するとISBNをキーにして検索します（例えば`9799999999990`や`979-9-999-99999-0`）。
- テキストボックスにtitle: (書籍タイトル) author: (書籍著者名)と指定するとタイトルと著者名で検索します。
  - 例えば`title: 草枕 author: 夏目漱石`です。
  - タイトルだけ、著者名だけでも検索できます。
  - 青空文庫で著者の書籍一覧を取得したい場合は、author: (書籍著者名)と入力します。
- 検索で利用するサービスおよびサービスごとの検索結果の上限数は[設定画面](#3-2- 設定)で指定します。

![Search Results](./images/resized/01_Records_N110_BookSearchPageSearchingByTitle.png)

一覧で書籍を選択して **ダブルクリック**してください。

**読書の手帖**は、本の記録を入力する[詳細画面](#3-1-2-本の記録を記入編集削除する)に検索結果を反映します。

項目に入力して、![apply](../../common/images/check_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックすると、**読書の手帖**は一覧に登録します。

#### 3-1-1-3. 空の記録を追加する

![空の記録を追加](../../common/images/draft_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックします。

**読書の手帖**は、空の本の記録を入力する[詳細画面](#3-1-2-本の記録を記入編集削除する)を表示します。

![Draft](./images/resized/01_Records_N130_BooksPageAddBlank.png)

項目に入力して、![apply](../../common/images/check_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックすると、**読書の手帖**は一覧に登録します。

#### 3-1-2. 本の記録を記入・編集・削除する

**読書の手帖**で本の記録を新規登録したり、登録してある本の記録をダブルクリックすると、[詳細画面](#3-1-2-本の記録を記入編集削除する)を表示します。

![Barcord Scaned Detail](./images/resized/01_Records_N090_BookSearchPageSelectResult.png)

- 各項目は空、デフォルトのままにもできます。

タイトルおよび著者をクリックするとPopupを表示します。タイトル、著者を指定して[反映ボタン]をクリックしてください。

![title](./images/resized/01_Records_N150_BookDetailToEditTitle.png)

![authors](./images/resized/01_Records_N160_BookDetailToEditAuthors.png)

説明および感想をクリックすると、それぞれ入力ページを表示します。

![説明](./images/resized/01_Records_N180_BookDetailToEditMemo.png)

![感想](./images/resized/01_Records_N200_BookDetailToEditComment.png)

- 画面右上のツールバーで[今日の日付]、[タイトル]、[著者名]を入力できます。
- 感想にはシャープ（'#'）を使ってタグを設定できます。後々タグで検索できます。

変更して、![apply](../../common/images/check_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックします。

**読書の手帖**は、変更した内容を反映した画面を表示します。

変更を破棄して元の表示に戻るには、画面左上の![Back](../../common/images/arrow_back_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックします。

なお、登録してある本の記録をダブルクリックして[詳細画面](#3-1-2-本の記録を記入編集削除する)を表示した場合には、![Delete](../../common/images/delete_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックすると記録を**削除**します。

![Editing](./images/resized/01_Records_N140_BookDetailToEdit.png)

#### 3-1-2-1. 賞

賞![trophy](../../common/images/trophy_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)は、一年で一番面白かった本を指定するために作りました。

- 他の項目（[状態]や[星]など）と関係なく、チェックありなしを切り替えられます。
- [賞]にチェックすると一覧でも![trophy](../../common/images/trophy_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)を表示します。
- [賞]ありなしを指定して検索できます。

#### 3-1-3. 本の記録を検索する・並び替える

登録してある本の記録を文字列または状態を対象にして検索できます。日付順等で並び替えられます。

##### 3-1-3-1. タイトル等を対象として検索する

タイトル、著者、出版社、説明、感想を対象として、指定した文字列を含む本の記録を検索します。

![FilterByText](./images/resized/01_Records_N210_BooksPageSearch.png)

検索文字列を指定するテキストボックスに文字列を入力し、ENTERキーを押下するか、![search](../../common/images/search_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックします。

見つかった本の記録のみ一覧に表示します。

検索結果の表示をキャンセルする場合は、![Cancel](../../common/images/cancel_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックします。

- 検索文字列を指定するテキストボックスに、項目名と検索する文字列を入力すると指定の項目のみを対象として検索します。例えば`title: 探す本のタイトル`です。
  - 指定できる項目名はtitle、authors、publisher、memo、comment、tagです。それぞれタイトル、著者、出版社、説明、感想、タグだけを対象として検索します。
  - 指定できる項目名は一つだけです。

##### 3-1-3-2. フィルターと並び替え

右上の![More](../../common/images/more_horiz_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックすると、フィルターと並び替えのメニューを表示します。

![MenuOfFilterByStatus](./images/resized/01_Records_N220_BooksPageOpenToolbar.png)

![BottomSheet](./images/resized/01_Records_N230_BooksPageFilter.png)

- 状態では**チェックあり**の状態だけを一覧に表示します。クリックしてチェックありなしを切り替えると、一覧の表示を更新します。
- [賞]は左側の[スイッチ]でオンにしてから、賞の有り無しを[チェックボックス]で指定します。チェックありなしを切り替えると、一覧の表示を更新します。

[並び替え]で、対象と方向を選び、![Sort](../../common/images/sort_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックすると一覧に表示している本の記録を並び変えて表示します。

![BottomSheet changed](./images/resized/01_Records_N240_BooksPageSort.png)

|対象|説明|
|-|-|
|なし|デフォルトの表示です。登録順に表示します。|
|星|評価の順に並び替えます|
|出版年月日|出版年月日の順に並び替えます|
|更新日|本の記録を更新した順に並び替えます|
|登録日|本の記録を登録した順に並び替えます|

|方向|説明|
|-|-|
|降順|大きい値から小さい値、もしくは新しい日付から古い日付|
|昇順|小さい値から大きい値、もしくは古い日付から新しい日付|

※[なし]を選択している場合、[方向]を表示しません。

フィルターと並び替えの設定項目を閉じる場合は、右上メニューの[閉じる]をクリックするか、一覧部分をクリックします。

### 3-2. 設定

表示したメニューから[設定]をクリックすると、設定画面を表示します。

![Configuration](./images/resized/02_Settings_N010_ShowConfiguration.png)

設定画面には上から以下の設定があります。

- 書籍検索サービスを利用する・しない、および優先度の指定
- 各書籍検索サービスで取得する結果の上限個数
- 書籍一覧等で書影を表示するかどうか
- 書籍一覧等の書影背景色指定
- アプリ設定を開くボタン

なお、画像中の`DEBUG_TITLE_WEB_CLIENT`,と`DEBUG_ISBN_WEB_CLIENT`は開発用のWEBクライアントです。アプリストアから取得した**読書の手帖**では表示しません。

#### 3-2-1. 書籍検索サービスを利用する・しない、および優先度の指定

**検索を行う前に書籍検索サービスのURLをクリックして利用規約を確認してください。同意できない場合は[チェック]を外して利用しないようにしてください。**

左側のチェックボックスにチェックがある検索サービスを使って書籍検索を行います。

全部チェックを外すと検索を行いません。

上にあるサービスから順番に検索を行います。

検索サービスの右側に![バーコード](../../common/images/barcode_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)がグレーでない色になっていればISBNでの検索時に利用します。![書籍のタイトルで検索](../../common/images/title_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)がグレーでない色になっていれば書籍タイトルでの検索時に利用します。

|サービス|ホームページ|説明|
|-|-|-|
|国立国会図書館サーチ|<https://ndlsearch.ndl.go.jp/>|ISBNおよびタイトルで検索|
|青空文庫・国立国会図書館サーチ|<https://ndlsearch.ndl.go.jp/>|タイトルで検索|

- 青空文庫・国立国会図書館サーチは国立国会図書館サーチでデータプロバイダーに青空文庫（リポジトリ番号 R000000014）を指定して検索を実施しています。

#### 3-2-2. 各書籍検索サービスで取得する結果の上限個数

3以上120以下の整数を指定します。

#### 3-2-3. 書籍の画像を表示するかどうか

一覧等で書籍の画像を表示するかどうかを指定します。デフォルトは非表示です。

以下は画像を表示をするとした場合（さらに背景色を変更しています）の一覧表示です。

![image on](./images/resized/02_Settings_N040_BooksImageIsDisplay.png)

#### 3-2-4. 書籍の画像背景色指定

書籍の画像の背景色を指定します。デフォルトは透明です。

ボタンをクリックすると背景色選択を行う画面を表示します。

![color chooser](./images/resized/02_Settings_N020_ConfigurationColorChooser.png)

#### 3-2-5. アプリ設定を開くボタン

クリックするとアプリ設定の画面を表示します。

![AppSettings](./images/resized/21.AppSettings.png)

### 3-3. バックアップと保存

**読書の手帖**の左上にある![menu](../../common/images/menu_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックして、表示したメニューから[バックアップと復元]をクリックすると、バックアップと復元画面を表示します。

![BackupRestore](./images/resized/02_Settings_N050_ShowBackupAndRestore.png)

バックアップと復元画面には上から、以下の項目があります。

- バックアップボタン
- 復元ボタン
- すべて削除ボタン
- 他のサービス

#### 3-3-1. バックアップボタン

クリックすると指定したファイルに、登録した本の記録を出力します。

- 出力するのはYamlファイルです。
- YamlファイルはWindowsのメモ帳などテキストエディターで開いて編集することもできます。編集する場合は書式や文字コード、改行コードが変わらないように気を付けて保存してください。
- Yamlファイルの文字コードはUTF-8（BOMなし）、改行コードはCRLFです。

#### 3-3-2. 復元ボタン

クリックすると指定したファイルを読み込み本の記録を**追加**します。

既存の登録をすべて削除してから読み込む場合は、[登録してある記録を空にしてから復元する]チェックボックスをチェックしてからボタンをクリックしてください。

#### 3-3-3. すべて削除ボタン

クリックすると登録している本の記録をすべて削除します。

#### 3-3-4. 他のサービス

##### 3-3-4-1. 読書管理ビブリア

- インポート：[読書管理ビブリア](https://biblia978.com/)のバックアップでDropbox[^3]に出力した[CSVファイル](https://biblia978.com/support/articles/15/)をインポートします。
- エクスポート：登録した本の記録を[読書管理ビブリア](https://biblia978.com/)の復元で読み込める[CSVファイル](https://biblia978.com/support/articles/15/)としてエクスポートします。

読書管理ビブリアのバックアップは[Dropbox](https://www.dropbox.com/)にファイルを作成します。**読書の手帖**はDropboxにアクセスできないため、私はWindowsにインストールした[Dropbox Lite](https://apps.microsoft.com/detail/9WZDNCRFJ0PK?hl=ja&gl=JP&ocid=pdpshare)アプリを使い以下のように操作してインポートやエクスポートをしています。

- **読書の手帖**でインポートする
  1. 読書管理ビブリアでバックアップを行う
  2. Dropbox Liteを起動する（読書管理ビブリアでのDropboxと同じアカウントで）
  3. Dropbox Liteで「Dropbox/アプリ/Biblia/books.csv」を選択して「名前をつけて保存」でWindowsのローカルフォルダー（ドキュメントフォルダー等）に出力する
  4. **読書の手帖**で、[すべて削除]を行ってのち、先に保存したCSVファイルをインポートする

- **読書の手帖**でエクスポートして、読書管理ビブリアで復元する
  1. **読書の手帖**の[ビブリア] [エクスポート]でファイル名にbooks.csvを指定して保存する
  2. Dropbox Liteで「Dropbox/アプリ/Biblia」に上のbooks.csvをアップロードする
  3. 読書管理ビブリアで「すべてのデータを削除」を行ってのち、復元を実行する

### 3-4. 読書の手帖について

**読書の手帖**の左上にある![menu](../../common/images/menu_32dp_1F1F1F_FILL0_wght400_GRAD0_opsz40.png)をクリックして、表示したメニューから[読書の手帖について]をクリックすると、読書の手帖について画面を表示します。

![About](./images/resized/02_Settings_N100_ShowAbout.png)

[ホームページ]と[使い方]はクリックすると、Webブラウザーを起動して表示します。

[プライバシーについて]をクリックすると以下の画面を表示します。

![Privacy Policy](./images/resized/02_Settings_N110_About_ShowAppPrivacy.png)

[OSSライセンス]をクリックすると以下の画面に**読書の手帖**が利用しているOSSのライセンスを表示します。

![OSS license](./images/resized/02_Settings_N120_About_ShowOssLicenses.png)

## 4. お問い合わせ

本アプリに関するご質問やご不明点がございましたら、[ホームページからお問い合わせ](https://yamasuto.github.io/BookTechyo.github.io/contact/ja-JP/)ください。

---

[^0]: Windows及び関連する名称並びにそれぞれのロゴは、米国Microsoft Corporationの米国およびその他の国における登録商標です。
[^1]: iPhoneはApple inc.の登録商標です。iPhone商標は、アイホン株式会社のライセンスに基づき使用されています。
[^2]: 「Google」「Google Pixel」「Android」は、Google LLCの商標または登録商標です。
[^3]: DropboxおよびDropboxのロゴはDropbox, Inc.の商標です。
